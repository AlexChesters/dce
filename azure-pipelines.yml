pool:
  vmImage: 'Ubuntu 16.04'

trigger:
  # Do not build branches
  branches:
    exclude:
      - "*"
  # Run build on tagged versions
  tags:
    include:
      - "v*"

# Run builds for PRs against `master`
pr:
  - master

steps:
  - script: |



      echo "PR: $(System.PullRequest.PullRequestNumber)"
      echo "Source branch: $(Build.SourceBranchName)"
      echo "Source branch name: $(Build.SourceBranchName)"


      PR="$(System.PullRequest.PullRequestNumber)"
      BR="$(Build.SourceBranchName)"
      NS="${PR:-BR}"
      echo "NS bash var: $NS"

      echo "##vso[task.setvariable variable=namespace]${NS}"
    displayName: 'Test'
  - script: |
      echo "NS env var is: ${NAMESPACE}"
      echo "NS var is $(namespace)"
      echo "NS var is $(variables.namespace)"
    displayName: 'Test2'
